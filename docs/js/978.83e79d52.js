"use strict";(globalThis["webpackChunkvrolijkverslag"]=globalThis["webpackChunkvrolijkverslag"]||[]).push([[978],{3978:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Y});var o=r(1758);const a={class:"container q-gutter-x-lg"};function s(e,t,r,s,l,n){const c=(0,o.g2)("report-list"),i=(0,o.g2)("create-report"),d=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(d,{class:"row items-center justify-evenly"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",a,[(0,o.bF)(c,{weekReports:e.weekReports,onReportClicked:e.handleReportClicked},null,8,["weekReports","onReportClicked"]),(0,o.bF)(i,{onReportCreated:e.handleReportCreated},null,8,["onReportCreated"])])])),_:1})}var l=r(5182),n=r(8790);function c(e,t,r,a,s,l){const c=(0,o.g2)("q-item-label"),i=(0,o.g2)("q-item-section"),d=(0,o.g2)("q-item"),u=(0,o.g2)("q-list");return(0,o.uX)(),(0,o.Wv)(u,{style:{width:"100%",height:"100%","overflow-y":"scroll"},class:"q-gutter-y-sm"},{default:(0,o.k6)((()=>[e.weekReports.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.weekReports,(t=>((0,o.uX)(),(0,o.Wv)(d,{key:t.id,clickable:"",onClick:r=>e.reportClicked(t),class:"rounded-borders",style:{overflow:"hidden",border:"1px solid lightgray"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(t.theme),1)])),_:2},1024),(0,o.bF)(c,{caption:""},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(e.formatDate(t.startDate)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):((0,o.uX)(),(0,o.Wv)(d,{key:1},{default:(0,o.k6)((()=>[(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.eW)("No reports available")])),_:1})])),_:1})])),_:1}))])),_:1})}var i=r(4253);const d=(0,o.pM)({props:{weekReports:{type:Array,required:!0}},methods:{formatDate(e){const t=(0,i.s)(e),r=new Date(e).toLocaleDateString();return`Week ${t}, ${r}`},reportClicked(e){this.$emit("report-clicked",e)}}});var u=r(2807),p=r(4514),k=r(5329),m=r(3418),v=r(5779),h=r(8582),g=r.n(h);const R=(0,u.A)(d,[["render",c],["__scopeId","data-v-1d7aef30"]]),w=R;g()(d,"components",{QList:p.A,QItem:k.A,QItemSection:m.A,QItemLabel:v.A});var f=r(9104);const b={class:"q-gutter-sm"},D=(0,o.Lk)("div",{class:"row"},[(0,o.Lk)("div",{class:"text-h4"},"Nieuw verslag")],-1),y={class:"row"},C={class:"row"},_={class:"row justify-end"};function A(e,t,r,a,s,l){const n=(0,o.g2)("q-input"),c=(0,o.g2)("q-date"),i=(0,o.g2)("q-btn");return(0,o.uX)(),(0,o.CE)("div",b,[D,(0,o.Lk)("div",y,[(0,o.bF)(n,{ref:"input",autofocus:"",modelValue:e.theme,"onUpdate:modelValue":t[0]||(t[0]=t=>e.theme=t),label:"Thema",class:"col",onKeydown:(0,f.jR)(e.createReport,["enter"]),"error-message":"Veld is verplicht",error:!e.isThemeSet},null,8,["modelValue","onKeydown","error"])]),(0,o.Lk)("div",C,[(0,o.bF)(c,{modelValue:e.startDate,"onUpdate:modelValue":t[1]||(t[1]=t=>e.startDate=t),input:!0,landscape:"",mask:"YYYY-MM-DD","emit-model-value":!0,picker:"calendar",options:e=>1===new Date(e).getDay(),label:"Start Date",class:"col"},null,8,["modelValue","options"])]),(0,o.Lk)("div",_,[(0,o.bF)(i,{onClick:e.createReport,color:"primary",label:"Aanmaken"},null,8,["onClick"])])])}var q=r(3090);class I{constructor(){this.description="",this.images=[]}}class F{static create(e,t){return new F((0,q.A)(),e,t)}constructor(e,t,r){this.id=e,this.theme=t,this.startDate=r,this.dayReports={};for(let o=0;o<5;o++)this.dayReports[o]=new I}}var L=r(8734);const Q=(0,o.pM)({setup(e,{emit:t}){const r=(0,L.KR)(""),o=(0,L.KR)(V()),a=(0,L.KR)(!0);console.log(o.value);const s=()=>{if(!r.value)return void(a.value=!1);a.value=!0;const[e,s,l]=o.value.split("-"),n=F.create(r.value,new Date(parseInt(e),parseInt(s)-1,parseInt(l)));t("report-created",n)};return{theme:r,startDate:o,isThemeSet:a,createReport:s}}});function V(){const e=new Date,t=e.getDay(),r=e.getDate()-t+(0===t?-6:1),o=new Date(e.setDate(r));return o.toISOString().slice(0,10)}var W=r(7868),S=r(8035),T=r(8039);const K=(0,u.A)(Q,[["render",A]]),X=K;g()(Q,"components",{QInput:W.A,QDate:S.A,QBtn:T.A});const j=(0,o.pM)({components:{ReportList:w,CreateReport:X},setup(){const e=(0,l.P)();return{store:e}},methods:{openReport(e){this.$router.push({name:"VerslagPage",query:{reportId:e.id}})},handleReportClicked(e){this.openReport(e)},handleReportCreated(e){this.store.addReport(e)}},computed:{weekReports(){return[...this.store.weekReports].sort(((e,t)=>t.startDate.getTime()-e.startDate.getTime()))}}});var M=r(3177);const x=(0,u.A)(j,[["render",s],["__scopeId","data-v-441c7cf6"]]),Y=x;g()(j,"components",{QPage:M.A})}}]);