"use strict";(globalThis["webpackChunkvrolijkverslag"]=globalThis["webpackChunkvrolijkverslag"]||[]).push([[565],{5789:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(4253);class o{constructor(){}static getLastMonday(e=void 0){const t=null!==e&&void 0!==e?e:new Date,r=t.getDay(),a=t.getDate()-r+(0===r?-6:1),o=new Date(t.setDate(a));return o.toISOString().slice(0,10)}static getWeekDay(e){if(e<0||e>=this.DAYS.length)throw new Error(`Invalid index ${e}`);return this.DAYS[e]}static getWeekNumber(e){return(0,a.s)(e)}}o.DAYS=["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"]},565:(e,t,r)=>{r.r(t),r.d(t,{default:()=>X});var a=r(1758);const o={class:"container q-gutter-x-lg"};function s(e,t,r,s,n,l){const i=(0,a.g2)("report-list"),d=(0,a.g2)("create-report"),c=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(c,{class:"row items-center justify-evenly"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.bF)(i,{weekReports:e.weekReports,onReportClicked:e.handleReportClicked},null,8,["weekReports","onReportClicked"]),(0,a.bF)(d,{onReportCreated:e.handleReportCreated},null,8,["onReportCreated"])])])),_:1})}var n=r(5182),l=r(8790);function i(e,t,r,o,s,n){const i=(0,a.g2)("q-item-label"),d=(0,a.g2)("q-item-section"),c=(0,a.g2)("q-item"),u=(0,a.g2)("q-list");return(0,a.uX)(),(0,a.Wv)(u,{style:{width:"100%",height:"100%","overflow-y":"scroll"},class:"q-gutter-y-sm"},{default:(0,a.k6)((()=>[e.weekReports.length?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.weekReports,(t=>((0,a.uX)(),(0,a.Wv)(c,{key:t.id,clickable:"",onClick:r=>e.reportClicked(t),class:"rounded-borders",style:{overflow:"hidden",border:"1px solid lightgray"}},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,{class:"text-h5"},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(t.theme),1)])),_:2},1024),(0,a.bF)(i,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(e.formatDate(t.startDate)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):((0,a.uX)(),(0,a.Wv)(c,{key:1},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.eW)("No reports available")])),_:1})])),_:1})])),_:1}))])),_:1})}var d=r(5789);const c=(0,a.pM)({props:{weekReports:{type:Array,required:!0}},methods:{formatDate(e){const t=d.A.getWeekNumber(e),r=new Date(e).toLocaleDateString();return`Week ${t}, ${r}`},reportClicked(e){this.$emit("report-clicked",e)}}});var u=r(2807),p=r(3999),k=r(124),g=r(5173),h=r(3796),m=r(8582),v=r.n(m);const R=(0,u.A)(c,[["render",i],["__scopeId","data-v-8499e464"]]),w=R;v()(c,"components",{QList:p.A,QItem:k.A,QItemSection:g.A,QItemLabel:h.A});var D=r(9104);const b={class:"q-gutter-sm"},f=(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"text-h4"},"Nieuw verslag")],-1),y={class:"row"},A={class:"row"},C={class:"row justify-end"};function _(e,t,r,o,s,n){const l=(0,a.g2)("q-input"),i=(0,a.g2)("q-date"),d=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)("div",b,[f,(0,a.Lk)("div",y,[(0,a.bF)(l,{ref:"input",autofocus:"",modelValue:e.theme,"onUpdate:modelValue":t[0]||(t[0]=t=>e.theme=t),label:"Thema",class:"col",onKeydown:(0,D.jR)(e.createReport,["enter"]),"error-message":"Veld is verplicht",error:!e.isThemeSet},null,8,["modelValue","onKeydown","error"])]),(0,a.Lk)("div",A,[(0,a.bF)(i,{modelValue:e.startDate,"onUpdate:modelValue":t[1]||(t[1]=t=>e.startDate=t),input:!0,landscape:"",mask:"YYYY-MM-DD","emit-model-value":!0,picker:"calendar",options:e=>1===new Date(e).getDay(),label:"Start Date",class:"col"},null,8,["modelValue","options"])]),(0,a.Lk)("div",C,[(0,a.bF)(d,{onClick:e.createReport,color:"primary",label:"Aanmaken"},null,8,["onClick"])])])}var q=r(3090);class I{constructor(){this.description="",this.images=[]}}class L{static create(e,t){return new L((0,q.A)(),e,t)}constructor(e,t,r){this.id=e,this.theme=t,this.startDate=r,this.dayReports={};for(let a=0;a<5;a++)this.dayReports[a]=new I}}var W=r(8734);const F=(0,a.pM)({setup(e,{emit:t}){const r=(0,W.KR)(""),a=(0,W.KR)(d.A.getLastMonday()),o=(0,W.KR)(!0),s=()=>{if(!r.value)return void(o.value=!1);o.value=!0;const[e,s,n]=a.value.split("-"),l=L.create(r.value,new Date(parseInt(e),parseInt(s)-1,parseInt(n)));t("report-created",l)};return{theme:r,startDate:a,isThemeSet:o,createReport:s}}});var S=r(1194),V=r(4581),M=r(1693);const Q=(0,u.A)(F,[["render",_]]),T=Q;v()(F,"components",{QInput:S.A,QDate:V.A,QBtn:M.A});const Y=(0,a.pM)({components:{ReportList:w,CreateReport:T},setup(){const e=(0,n.P)();return{store:e}},methods:{openReport(e){this.$router.push({name:"VerslagPage",query:{reportId:e.id}})},handleReportClicked(e){this.openReport(e)},handleReportCreated(e){this.store.addReport(e),this.openReport(e)}},computed:{weekReports(){return[...this.store.weekReports].sort(((e,t)=>t.startDate.getTime()-e.startDate.getTime()))}}});var j=r(7716);const K=(0,u.A)(Y,[["render",s],["__scopeId","data-v-2483fe12"]]),X=K;v()(Y,"components",{QPage:j.A})}}]);