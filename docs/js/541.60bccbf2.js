"use strict";(globalThis["webpackChunkvrolijkverslag"]=globalThis["webpackChunkvrolijkverslag"]||[]).push([[541],{2541:(n,t,e)=>{e.r(t),e.d(t,{default:()=>b});var i=e(1758);const r={style:{width:"210mm","min-height":"100%","box-sizing":"border-box","background-color":"white",position:"relative"}},o=(0,i.Lk)("iframe",{style:{width:"100%","min-height":"100%",display:"none"}},null,-1);function s(n,t,e,s,a,d){const c=(0,i.g2)("q-btn"),l=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(l,{padding:"",style:{display:"flex","justify-content":"center",width:"100%","background-color":"lightgray","min-height":"100%"}},{default:(0,i.k6)((()=>[(0,i.Lk)("div",r,[o,(0,i.bF)(c,{onClick:n.doExport},null,8,["onClick"])])])),_:1})}var a=e(5182),d=e(455),c=e(4253),l=function(n,t,e,i){function r(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,o){function s(n){try{d(i.next(n))}catch(t){o(t)}}function a(n){try{d(i["throw"](n))}catch(t){o(t)}}function d(n){n.done?e(n.value):r(n.value).then(s,a)}d((i=i.apply(n,t||[])).next())}))};const p=(0,i.pM)({name:"ExportPage",setup(){const n=(0,d.lq)(),t=(0,a.P)(),e=n.query["reportId"],i=t.get(e);if(void 0===i)throw new Error("Report is not found");return{weekReportStore:t,report:i}},mounted(){return l(this,void 0,void 0,(function*(){let n=e(4249).A;const t={theme:this.report.theme,weekNumber:(0,c.s)(this.report.startDate),text_day_0:this.paragraphs(this.report.dayReports[0].description).map((n=>`<p>${n}</p>`)),img_day_0:this.report.dayReports[0].images.map((n=>`<img src="${n}" />`)).join(""),text_day_1:this.paragraphs(this.report.dayReports[1].description).map((n=>`<p>${n}</p>`)),img_day_1:this.report.dayReports[1].images.map((n=>`<img src="${n}" />`)).join("")};Object.keys(t).forEach((e=>{const i=t[e];n=n.replaceAll(`%${e.toUpperCase()}%`,Array.isArray(i)?i.join(""):i.toString())}));let i=document.querySelector("iframe");if(null==i)throw new Error;let r=i.contentDocument;if(null==r)throw new Error;r.open(),r.write(n),r.close()}))},methods:{getWeekDay(n){const t=["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"];return t[n]},paragraphs(n){return n.replace(/\n\s*\n/g,"\n").split("\n")},doExport(){var n;const t=document.querySelector("iframe");null===(n=null===t||void 0===t?void 0:t.contentWindow)||void 0===n||n.print()}}});var m=e(2807),h=e(3177),g=e(8039),u=e(8582),v=e.n(u);const y=(0,m.A)(p,[["render",s]]),b=y;v()(p,"components",{QPage:h.A,QBtn:g.A})},4249:(n,t,e)=>{e.d(t,{A:()=>i});const i='<!DOCTYPE html>\n<html>\n  <head>\n    <style>\n      @page {\n        size: 210mm 297mm;\n        margin: 16mm;\n      }\n\n      body {\n        font-family: Tahoma, sans-serif;\n        font-size: 18pt;\n      }\n\n      .day-title:not(:nth-of-type(1)) {\n        page-break-before: always;\n      }\n\n      .text-box {\n        margin-bottom: 18px;\n      }\n\n      img {\n        height: 13cm;\n        margin-top: 2mm;\n        margin-bottom: 2mm;\n        object-fit: contain;\n      }\n\n      p,\n      img {\n        page-break-inside: avoid;\n        break-inside: avoid;\n      }\n\n      .img-box {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n      }\n    </style>\n    <title>Week %WEEKNUMBER% - %THEME%</title>\n    \x3c!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"><\/script> --\x3e\n    \x3c!-- <script src="https://raw.githubusercontent.com/davidnbooth/html3pdf.js/merge_PRs/src/index.js"><\/script> --\x3e\n    <script type="module">\n      import html2pdf from \'https://raw.githubusercontent.com/davidnbooth/html3pdf.js/merge_PRs/src/index.js\';\n      addEventListener(\'load\', (event) => {\n        alert(\'OK\');\n        html2pdf(document.body);\n      });\n    <\/script>\n    <script><\/script>\n  </head>\n  <body>\n    <h2>Week %WEEKNUMBER% - %THEME%</h2>\n\n    <div style="height: 10px"></div>\n\n    <h3 class="day-title">Maandag</h3>\n    <div class="text-box">%TEXT_DAY_0%</div>\n    <div class="img-box">%IMG_DAY_0%</div>\n\n    <h3 class="day-title">Dinsdag</h3>\n    <div class="text-box">%TEXT_DAY_1%</div>\n    <div class="img-box">%IMG_DAY_1%</div>\n\n    <h3 class="day-title">Woensdag</h3>\n    <div class="text-box">%TEXT_DAY_2%</div>\n    <div class="img-box">%IMG_DAY_2%</div>\n\n    <h3 class="day-title">Donderdag</h3>\n    <div class="text-box">%TEXT_DAY_3%</div>\n    <div class="img-box">%IMG_DAY_3%</div>\n\n    <h3 class="day-title">Vrijdag</h3>\n    <div class="text-box">%TEXT_DAY_4%</div>\n    <div class="img-box">%IMG_DAY_4%</div>\n  </body>\n</html>\n'}}]);